input_format_version: 0
title: IEA Wind Task 37 Wind Energy System Ontology version 0.1
description: A file used as input or output of a wind farm model
required:
  - name
  - site
  - wind_farm # Or something referring to the built or "designable" wind energy conversion system


# PROPERTIES
properties:
  #~
  name:
    title: Name
    description: Name of the wind energy system
    type: string
  #~
  site:
    $ref: "site.yaml"
  # #~
  wind_farm:
    $ref: "wind_farm.yaml"
  #~
  attributes:
    title: Attributes
    description: Specific attributes of the entire wind energy system
    type: object
    properties:
      #~~
      flow_model:
        title: Flow model
        description: Flow model used in wind farm design
        type: object
        additionalProperties: true
        properties:
          name:
            title: Flow model name
            type: string
            enum: ["foxes", "pywake", "saturne", "KUL"]
      analyses:
        wake_model:
          title: Deficit model
          description: Wake deficit model used in AEP calculations
          type: object
          additionalProperties: true
          properties:
            name:
              title: Wake model name
              type: string
              enum: ["Jensen", "Bastankhah"]
            k:
              title: wake expansion coefficient
              type: float
            
          title: Deflection model
          description: Deflection model used in AEP calculations
          type: object
          additionalProperties: true
          properties:
            name:
              title: Deflection model name
              type: string
              enum: ["Jimenez"]
            beta:
              title: Jimenez deflection coefficient
              type: float
            
          title: Turbulence model
          description: Turbulence model used in AEP calculations
          type: object
          additionalProperties: true
          properties:
            name:
              title: Turbulence model name
              type: string
              enum: ["STF2005", "STF2007"]
            c1:
              title: STF C1
              type: float
            c2:
              title: STF C2
              type: float
            
          title: Superposition model
          description: Superposition model used in AEP calculations
          type: object
          additionalProperties: true
          properties:
            name:
              title: Superposition model name
              type: string
              enum: ["Linear", "Sqared"]
          title: Rotor model
          description: Rotor averaging model used in AEP calculations
          type: object
          additionalProperties: true
          properties:
            name:
              title: Rotor model name
              type: string
              enum: ["Center"]
